---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/Hero.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import LinkCard from '../../components/LinkCard.astro';
import { useTranslations } from '../../i18n/translations';
import { getFeaturedProjects } from '../../data/projects';
import { socialLinks } from '../../data/links';

const lang = 'es';
const t = useTranslations(lang);
const featuredProjects = getFeaturedProjects().slice(0, 3);
const topLinks = socialLinks.slice(0, 4);
---

<Layout title="Inicio" lang={lang}>
  <Hero lang={lang} />

  <section class="section">
    <div class="container">
      <h2 class="section-title">{t('section.projects')}</h2>
      <p class="section-description">{t('section.projects.description')}</p>
      <div class="grid grid-3">
        {featuredProjects.map(project => (
          <ProjectCard project={project} lang={lang} />
        ))}
      </div>
      <div class="section-footer">
        <a href={`/${lang}/projects`} class="btn btn-outline">
          {t('common.viewAll')} ‚Üí
        </a>
      </div>
    </div>
  </section>

  <section class="section section-arcade">
    <div class="arcade-preview-container">
      <div class="arcade-scanlines"></div>
      <div class="container">
        <h2 class="arcade-title">
          <span class="neon-pink">EL</span>
          <span class="neon-cyan">ARCADE</span>
        </h2>
        <p class="arcade-subtitle">INSERTA MONEDA PARA JUGAR</p>
        <div class="arcade-games-preview">
          <a href={`/${lang}/fun/quiz`} class="arcade-game-card">
            <span class="game-icon">üß†</span>
            <span class="game-name">QUIZ DEV</span>
          </a>
          <a href={`/${lang}/fun/snake`} class="arcade-game-card">
            <span class="game-icon">üêç</span>
            <span class="game-name">SNAKE</span>
          </a>
          <a href={`/${lang}/fun/excuse`} class="arcade-game-card">
            <span class="game-icon">ü§∑</span>
            <span class="game-name">EXCUSO-MATIC</span>
          </a>
          <a href={`/${lang}/fun/trivia`} class="arcade-game-card">
            <span class="game-icon">‚ùì</span>
            <span class="game-name">TRIVIA TECH</span>
          </a>
        </div>
        <div class="section-footer">
          <a href={`/${lang}/fun`} class="btn btn-arcade-enter">
            ENTRAR AL ARCADE ‚Üí
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="section section-alt">
    <div class="container">
      <h2 class="section-title">{t('section.connect')}</h2>
      <p class="section-description">{t('section.connect.description')}</p>
      <div class="links-grid">
        {topLinks.map(link => (
          <LinkCard link={link} lang={lang} />
        ))}
      </div>
      <div class="section-footer">
        <a href={`/${lang}/connect`} class="btn btn-outline">
          {t('common.viewAll')} ‚Üí
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  .section-alt {
    background: var(--color-bg-secondary);
  }

  .section-footer {
    margin-top: var(--space-xl);
    text-align: center;
  }

  .links-grid {
    display: grid;
    gap: var(--space-md);
    max-width: 600px;
  }

  .section-arcade { padding: 0; }

  .arcade-preview-container {
    position: relative;
    background: linear-gradient(180deg, #0a0a12 0%, #1a1a2e 50%, #16213e 100%);
    padding: var(--space-3xl) 0;
    overflow: hidden;
  }

  .arcade-scanlines {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.1) 0px, rgba(0, 0, 0, 0.1) 1px, transparent 1px, transparent 2px);
    pointer-events: none;
  }

  .arcade-title {
    text-align: center;
    font-size: clamp(2rem, 6vw, 3.5rem);
    font-weight: 900;
    margin-bottom: var(--space-sm);
    letter-spacing: 0.1em;
  }

  .neon-pink {
    color: #fff;
    text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 20px #ff00de, 0 0 40px #ff00de;
  }

  .neon-cyan {
    color: #0ff;
    text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff, 0 0 40px #00b7ff;
  }

  .arcade-subtitle {
    text-align: center;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    color: #888;
    letter-spacing: 0.3em;
    margin-bottom: var(--space-2xl);
    animation: blink 1.5s step-end infinite;
  }

  @keyframes blink { 50% { opacity: 0.5; } }

  .arcade-games-preview {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: var(--space-lg);
  }

  .arcade-game-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--space-lg) var(--space-xl);
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    border: 2px solid #333;
    border-radius: 8px;
    text-decoration: none;
    color: var(--color-text);
    transition: all 0.3s ease;
    min-width: 120px;
  }

  .arcade-game-card:hover {
    transform: translateY(-4px);
    border-color: #0ff;
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
  }

  .arcade-game-card:hover .game-icon { transform: scale(1.2); }

  .game-icon {
    font-size: 2rem;
    margin-bottom: var(--space-sm);
    transition: transform 0.3s ease;
  }

  .game-name {
    font-family: var(--font-mono);
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    color: #0ff;
    text-shadow: 0 0 5px #0ff;
  }

  .btn-arcade-enter {
    display: inline-block;
    padding: var(--space-md) var(--space-xl);
    background: transparent;
    border: 2px solid #0ff;
    border-radius: 4px;
    color: #0ff;
    font-family: var(--font-mono);
    font-weight: 700;
    font-size: 0.875rem;
    letter-spacing: 0.1em;
    text-shadow: 0 0 5px #0ff;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);
    transition: all 0.3s ease;
  }

  .btn-arcade-enter:hover {
    background: rgba(0, 255, 255, 0.1);
    box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
    color: #0ff;
  }
</style>
