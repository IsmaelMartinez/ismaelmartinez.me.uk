---
title: "Automatizando la Generación de Visualizaciones en Kibana"
description: "Cómo construí logger-to-kibana, una herramienta de código abierto que analiza el código fuente y genera automáticamente visualizaciones de Kibana a partir de las sentencias de logging."
publishedDate: 2019-11-28
originalUrl: "https://dev.to/ismaelmartinez/automating-kibana-visualisations-generation-56o4"
originalPlatform: "devto"
tags: ["Código Abierto", "Logs", "Automatización", "Kibana"]
draft: false
---

Como desarrollador, cuando me encuentro haciendo la misma tarea una y otra vez, doy un paso atrás y considero si hay una forma mejor.

## El Problema

Mantener la sincronización entre los cambios de código y las visualizaciones de Kibana en entornos de microservicios y AWS Lambda es una tarea manual repetitiva. Cada vez que cambian los logs, las visualizaciones correspondientes necesitan actualizarse. Esto viola el principio DRY y desperdicia tiempo valioso del desarrollador.

## La Solución

Creé **logger-to-kibana**, una herramienta de código abierto que analiza el código fuente y genera automáticamente visualizaciones de Kibana basadas en las sentencias de logging encontradas en el código.

## Cómo Funciona

La herramienta analiza archivos fuente de Python para identificar mensajes de log y crea visualizaciones de métricas agrupadas por:

- Estructura de subcarpetas
- Nombre de archivo
- Nombre de función

Por ejemplo, dado este código Python:

```python
import logging
from datetime import datetime

LOG = logging.getLogger()

def lambda_handler(event, context):
    LOG.info('lambda_handler called')
    return {'message': datetime.now()}
```

La herramienta genera una visualización de métricas correspondiente en Kibana.

## Instalación y Uso

```bash
pip install logger-to-kibana
logger-to-kibana process_generate_and_send -f <folder>
```

Esto procesa todos los archivos Python en el directorio especificado, analizándolos mediante expresiones regulares para identificar las sentencias de log.

## Beneficios Clave

- Identificar mensajes de log redundantes o inconsistentes
- Asegurar que el código y las visualizaciones se mantengan sincronizados
- Generar automáticamente documentación sobre el logging de la aplicación
- Integración en pipelines de despliegue para actualizaciones continuas

## Dirección Futura

El plan es extender el soporte a otros sistemas de monitorización como CloudWatch y Grafana, potencialmente renombrando la herramienta a algo más genérico.

Si te encuentras creando manualmente visualizaciones de Kibana cada vez que cambian tus logs, dale una oportunidad a logger-to-kibana y cuéntame qué te parece.
