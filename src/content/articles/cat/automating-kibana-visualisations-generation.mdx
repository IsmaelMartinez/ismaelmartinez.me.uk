---
title: "Automatització de la Generació de Visualitzacions de Kibana"
description: "Com vaig crear logger-to-kibana, una eina de codi obert que analitza el codi font i genera automàticament visualitzacions de Kibana a partir de les sentències de registre."
publishedDate: 2019-11-28
originalUrl: "https://dev.to/ismaelmartinez/automating-kibana-visualisations-generation-56o4"
originalPlatform: "devto"
tags: ["Codi Obert", "Registres", "Automatització", "Kibana"]
draft: false
---

Com a desenvolupador, quan em trobo fent la mateixa tasca una vegada i una altra, faig un pas enrere i considero si hi ha una manera millor.

## El Problema

Mantenir la sincronització entre els canvis de codi i les visualitzacions de Kibana en entorns de microserveis i AWS Lambda és una tasca manual repetitiva. Cada vegada que els registres canvien, les visualitzacions corresponents necessiten actualitzar-se. Això viola el principi DRY i malgasta temps valuós dels desenvolupadors.

## La Solució

Vaig crear **logger-to-kibana**, una eina de codi obert que analitza el codi font i genera automàticament visualitzacions de Kibana basades en les sentències de registre trobades al codi.

## Com Funciona

L'eina analitza fitxers font de Python per identificar missatges de registre i crea visualitzacions mètriques agrupades per:

- Estructura de subdirectoris
- Nom del fitxer
- Nom de la funció

Per exemple, donat aquest codi Python:

```python
import logging
from datetime import datetime

LOG = logging.getLogger()

def lambda_handler(event, context):
    LOG.info('lambda_handler called')
    return {'message': datetime.now()}
```

L'eina genera una visualització mètrica corresponent a Kibana.

## Instal·lació i Ús

```bash
pip install logger-to-kibana
logger-to-kibana process_generate_and_send -f <folder>
```

Això processa tots els fitxers Python al directori especificat, analitzant-los mitjançant expressions regulars per identificar sentències de registre.

## Beneficis Clau

- Identificar missatges de registre redundants o inconsistents
- Assegurar que el codi i les visualitzacions es mantinguin sincronitzats
- Generar automàticament documentació sobre el registre de l'aplicació
- Integració en pipelines de desplegament per a actualitzacions contínues

## Direcció Futura

El pla és estendre el suport a altres sistemes de monitorització com CloudWatch i Grafana, potencialment canviant el nom de l'eina per un de més genèric.

Si us trobeu creant manualment visualitzacions de Kibana cada vegada que els vostres registres canvien, proveu logger-to-kibana i feu-me saber què en penseu.
