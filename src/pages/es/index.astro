---
import Layout from '../../layouts/Layout.astro';
import Hero from '../../components/Hero.astro';
import ProjectCard from '../../components/ProjectCard.astro';
import { useTranslations } from '../../i18n/translations';
import { getFeaturedProjects } from '../../data/projects';

const lang = 'es';
const t = useTranslations(lang);
const featuredProjects = getFeaturedProjects().slice(0, 3);
---

<Layout title="Inicio" lang={lang}>
  <script slot="head" type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Ismael Martinez",
    "url": "https://ismaelmartinez.me.uk",
    "jobTitle": "Software Engineer",
    "sameAs": [
      "https://github.com/IsmaelMartinez",
      "https://www.linkedin.com/in/imartinez",
      "https://medium.com/@ismaelmartinez",
      "https://dev.to/ismaelmartinez"
    ]
  })} />
  <Hero lang={lang} />

  <section class="section">
    <div class="container">
      <h2 class="section-title">{t('section.projects')}</h2>
      <p class="section-description">{t('section.projects.description')}</p>
      <div class="grid grid-3">
        {featuredProjects.map(project => (
          <ProjectCard project={project} lang={lang} />
        ))}
      </div>
      <div class="section-footer">
        <a href={`/${lang}/projects`} class="btn btn-outline">
          {t('common.viewAll')} â†’
        </a>
      </div>
    </div>
  </section>
</Layout>

<style>
  .section-footer {
    margin-top: var(--space-xl);
    text-align: center;
  }
</style>
